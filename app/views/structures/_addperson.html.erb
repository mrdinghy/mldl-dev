<% modal ||= false %>
<% remote = modal ? true : false %>



<%= form_for(@membership) do |f| %>
    <% if @membership.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@membership.errors.count, "error") %> prohibited this membership from being saved:</h2>

          <ul>
            <% @membership.errors.full_messages.each do |message| %>
                <li><%= message %></li>
            <% end %>
          </ul>
        </div>
    <% end %>

    <div class="field">
      <%= f.label :person_id %><br>
      <%= f.collection_select(:person_id, Person.all, :id, :fullname, include_blank: true, :class => "form-control") %>

    </div>

    <div class="field">
      <%= f.label :person_id %><br>
      <label><input type="checkbox" name="addpeep" id="addpeep" value="1"> This is the first checkbox</label><br>

    </div>

    <div id="person_details" style="display:none;">
      <div class="field">
        <%= f.label "First Name" %><br>
        <input type="text" name="fname" />
      </div>
      <div class="field">
        <%= f.label "Last Name" %><br>
        <input type="text" name="lname" />
      </div>
      <div class="field">
        <%= f.label "Email" %><br>
        <input type="text" name="email" />
      </div>
    </div>













    <%= hidden_field_tag(:structure_id, @structure.id) %>
    <div class="actions">
      <%= f.submit %>
    </div>
<% end %>


<script type="text/javascript">
    var checkbox = document.getElementById('addpeep');
    var details_div = document.getElementById('person_details');
    checkbox.onchange = function() {
        if(this.checked) {
            details_div.style['display'] = 'block';
        } else {
            details_div.style['display'] = 'none';
        }
    };
</script>







